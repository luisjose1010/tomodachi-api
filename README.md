# Tomodachi API

Backend API for the Tomodachi Events application.

## Installation

1. **Clone the repository:**

    ```bash
    git clone https://github.com/luisjose1010/tomodachi-api.git
    ```

2. **Navigate to the project directory:**

    ```bash
    cd tomodachi-api
    ```

3. **Install dependencies:**

    ```bash
    npm install
    ```

## Usage

1. **Run the server in development mode:**

    ```bash
    npm run dev
    ```

    This will start the server with nodemon, which will automatically restart the server when file changes are detected.

2. **The server will be available at `http://localhost:3000`.**

## Configuraci√≥n

The main configuration is located in the following files:

* `package.json`: Defines dependencies and execution scripts.
* `tsconfig.json`: Configures TypeScript compilation options.
* `src/index.ts`: Main entry point of the application.

## Architectural Pattern

This project follows a layered architectural pattern, which is a variation of the Model-View-Controller (MVC) design pattern enhanced with a dedicated service layer. This approach promotes a clear separation of concerns, improving the maintainability, reusability, and testability of the codebase.

The main layers of our architecture are as follows:

* **Routes:** This layer (typically found in the `routes` directory) is responsible for defining the API endpoints and routing incoming requests to the appropriate controllers. It acts as the entry point for external requests.

* **Middlewares:** Located in the `middlewares` directory, these functions handle tasks that need to be executed before or after the controller logic. This includes authentication, authorization, data validation, logging, and error handling. Middlewares act as interceptors in the request-response cycle.

* **Controllers:** Found in the `controllers` directory, controllers receive requests from the routes, orchestrate the application logic by interacting with the service layer, and prepare the response to be sent back to the client. They are responsible for handling the application flow for specific endpoints.

* **Services:** Situated in the `services` directory, this layer contains the core business logic and is responsible for data access. Services interact with the data models (defined by Prisma in `prisma/schema.prisma` and the generated Prisma Client) to perform CRUD operations and other data-related tasks. This layer abstracts the data access implementation from the controllers.

* **Models:** While Prisma doesn't create explicit model files in a `models` directory, the data structure and types are defined in the `prisma/schema.prisma` file and generated by the Prisma Client (typically found in `node_modules/@prisma/client`). These represent the data entities of the application.

* **Schemas:** Located in the `schemas` directory, these files define the structure and validation rules for request and response data, often used by middleware for data validation.

This layered architecture ensures that each part of the application has a specific responsibility, making the code easier to understand, modify, and test. The introduction of the `services` layer provides a crucial abstraction between the controllers and the data access logic, leading to a more robust and scalable application.

## Autor

Luis Jose Medina <luis06jose@gmail.com>
